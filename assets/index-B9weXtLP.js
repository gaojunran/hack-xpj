import{A as y,D as h,E as w,G as s,H as u,I as O,r as b,w as B,J as k,b as p,K as d,L as x,M as P}from"./index-BPh6w-Hv.js";function f(){const e=h({show:!1}),t=a=>{e.show=a},n=a=>{s(e,a,{transitionAppear:!0}),t(!0)},o=()=>t(!1);return w({open:n,close:o,toggle:t}),{open:n,close:o,state:e,toggle:t}}function m(e){const t=y(e),n=document.createElement("div");return document.body.appendChild(n),{instance:t.mount(n),unmount(){t.unmount(),document.body.removeChild(n)}}}const D={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let l=[],I=!1,i=s({},D);const S=new Map;function T(e){return O(e)?e:{message:e}}function A(){const{instance:e}=m({setup(){const t=b(""),{open:n,state:o,close:a,toggle:v}=f(),C=()=>{},g=()=>p(x,d(o,{onClosed:C,"onUpdate:show":v}),null);return B(t,c=>{o.message=c}),k().render=g,{open:n,close:a,message:t}}});return e}function E(){if(!l.length||I){const e=A();l.push(e)}return l[l.length-1]}function L(e={}){if(!u)return{};const t=E(),n=T(e);return t.open(s({},i,S.get(n.type||i.type),n)),t}let r;const M={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,cancelButtonDisabled:!1,confirmButtonText:"",confirmButtonColor:null,confirmButtonDisabled:!1,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1,destroyOnClose:!1};let N=s({},M);function U(){({instance:r}=m({setup(){const{state:t,toggle:n}=f();return()=>p(P,d(t,{"onUpdate:show":n}),null)}}))}function _(e){return u?new Promise((t,n)=>{r||U(),r.open(s({},N,e,{callback:o=>{(o==="confirm"?t:n)(o)}}))}):Promise.resolve(void 0)}const W=e=>_(s({showCancelButton:!0},e));export{W as a,L as s};
